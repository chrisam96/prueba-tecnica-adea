<!DOCTYPE html>
<html lang="es_MX" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Home</title>
	
	<!-- Bootstrap - CSS - v5.3.3 -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

	<!-- Bootstrap - JS - v5.3.3 -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	
	<!-- jQuery library -->
	<!-- script src="jquery-3.7.1.js"></script> -->
	<!-- <script src="./jquery-3.7.1.js"></script> -->
	<!-- <script src="js/jquery-3.7.1.js"></script> -->
	<!-- <script src="/Prueba_Tecnica_-_AdeA_Mexico/src/main/resources/templates/js/jquery-3.7.1.js"></script> -->
	<!-- <script src="D:/ec1lipse-workspace/Prueba-Tecnica-AdeA-Mexico/Prueba_Tecnica_-_AdeA_Mexico/src/main/resources/templates/js/jquery-3.7.1.js"></script> -->	
	
	<!-- JQuery 3.7.1-->
	<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

	<!-- Bootstrap - JS - v5.3.3 -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	

</head>
<body>
	<div id="div-Msj-Home">
		Hola usuario
	</div>

	<br> 
	<h2>
		<div class="text-center">
			Bienvenido al panel del control de usuarios
		</div>
	</h2>
	<br>
	<div>
		<form action="" class="bg-light p-5">
			<div class="text-center">
				<h3>
					<label>¿Qué desea hacer?</label>
				</h3>
			</div>
			
			&nbsp;<br>

			<div class="row">
				<div class="col-1"></div>

				<div class="col-5">
					<label class="form-label">  
						<h5>GESTION DE USUARIOS</h5>						
					</label> 
					<label class="form-label">
						A tráves de un formulario permite las Altas, Bajas y Modificaciones de los registros de un usuario.
					</label>
					<br>
				</div>

				<div class="col-5">
					<label> 
						<h5>TABLERO DE USUARIOS</h5>
					</label> 
					<label>
						Vista del tablero de los registros por estatus de usuario y filtros de búsqueda. 
					</label>
				</div>

				<div class="col-1"></div>
			</div>
			
			<br>
			
			<div class="row">
				<div class="col-1"></div>

				<div class="col-5">
					<button id="btn-gestion" type="button" class="btn btn-success">
						Ir a Gestión de Usuarios
					</button>
					<br>
				</div>

				<div class="col-5">
					<button id="btn-tablero" type="button" class="btn btn-primary" >
						Ir al Tablero de Usuarios
					</button>
					<br>
				</div>

				<div class="col-1"></div>
			</div>
			
			<br>

			<!-- PARA EXPERIMENTAR -->
			<div class="row">
				<div class="col-1"></div>

				<div class="col-5">
					<button id="btn-tablero-2" type="button" class="btn btn-success">
						Ir a Tablero (/tablero2) de Usuarios
					</button>
					<br>
				</div>

				<div class="col-5">
					<button id="btn-tablero-3" type="button" class="btn btn-primary" hidden disabled>
						Ir al Tablero (/tablero2) de Usuarios
					</button>
					<br>
				</div>

				<div class="col-1"></div>
			</div>

			<br>
			
		</form>
	</div>
	
	<!-- SCRIPT NECESARIOS PARA CUANDO SE CARGA LA PÁGINA -->
	<script type="text/javascript">
		$(document).ready(function(){
			var usuario = JSON.parse(sessionStorage.getItem('usuario'));
			console.log("datos del login: ", usuario);

			if(usuario != undefined){
				//$('#p-Msj-Home').text("Hola estimado, " + usuario.nombre);
				$('#div-Msj-Home').text("Bienvenido, " + usuario.nombre);
			}			
		});

		$("#btn-gestion").click(function() {
			//Se redirige a Gestion de Usuarios
			window.location.href = "/sitio/gestion-usuarios"
			
		});

		$("#btn-tablero").click(function() {
			//Se redirige a Tablero de Usuarios		
			
			//Con JavaSCript Vanilla
			//window.location.href = "/sitio/tablero"	

			//Con JQuery
			$(location).attr("href", "/sitio/tablero");
		});

		<!-- NO SIRVE -->
		$("#btn-tablero-2").click(function() {
			//Se redirige a Gestion de Usuarios
			//ANTES
			//window.location.href = "/tablero2"

			//AHORA
			$.ajax({
				type: "GET",				
				//url: "/sitio/tabla"
				url: "/tablero2"
				/*
				ES UN GET, OBVIO NO TIENE BODY
				Pero si se le pueden serializar los paramteros (clave=valor&...&claveN=valorN)
				*/
			})
			.done( function (data, status, xhrData) {
				/*console.log(data, xhrData.status);
				console.log("done()");
				console.log("data:\n", data); // Accede al cuerpo de la respuesta
				console.log("status: " + status);
				console.log("HTTP Status: " + xhrData.status);// Accede al estado HTTP de la respuesta
				console.log("headers: \n" + xhrData.getAllResponseHeaders());
				*/
				//alert("tablero 2");
			})
			.fail( function (xhrData, status, error) {				
				console.log("fail()");					
				console.log("status: " + status);
				console.log("HTTP Status: " + xhrData.status);// Accede al estado HTTP de la respuesta
				console.log("Headers: \n" + xhrData.getAllResponseHeaders());
				console.log("Error Thrown: \n" + error);
				alert("falló tablero 2");
				return;
			});//

		});
		
		$("#btn-tablero-3").click(function() {
			//Se redirige a Gestion de Usuarios
			//ANTES
			//window.location.href = "/sitio/tablero"

			//AHORA
			$.ajax({
				type: "GET",
				url: "/tablero3" //NO SIRVE EL ENDPOINT, SIN SOLUCION
				/*
				ES UN GET, OBVIO NO TIENE BODY
				Pero si se le pueden serializar los paramteros (clave=valor&...&claveN=valorN)
				*/
			})
			.done( function (data, status, xhrData) {
				alert("-tablero 3-");
			})
			.fail( function (xhrData, status, error) {				
				console.log("fail()");					
				console.log("status: " + status);
				console.log("HTTP Status: " + xhrData.status);// Accede al estado HTTP de la respuesta
				console.log("Headers: \n" + xhrData.getAllResponseHeaders());
				console.log("Error Thrown: \n" + error);
				alert("-fallo tablero 3-")
				return;
			});//
		});
	</script>
</body>
</html>